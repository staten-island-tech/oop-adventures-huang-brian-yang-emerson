from pynput import mouse, keyboard

class MyListener(keyboard.Listener):
    def __init__(self, *args, **kwargs):
        super(MyListener, self).__init__(*args, **kwargs)
        self.right_button_pressed = False

# Initialize MouseController and MyListener
controller = mouse.Controller()
listener = MyListener()

def on_press(key):
    # Check if the key is 'enter'
    if key == keyboard.Key.enter:
        # If right button is pressed, release it
        if listener.right_button_pressed:
            controller.release(mouse.Button.right)
            listener.right_button_pressed = False
        # If right button is not pressed, press it
        else:
            controller.press(mouse.Button.right)
            listener.right_button_pressed = True

def on_release(key):
    # Stop listener if 'esc' is pressed
    if key == keyboard.Key.esc:
        return False

# Start the listener
with MyListener(on_press=on_press, on_release=on_release) as listener:
    listener.join()

